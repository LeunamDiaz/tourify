<!DOCTYPE html>
<html>
<head>
 <title>Ubicación del usuario</title>
 <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
 <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
</head>
<body>
 <h2>Mi ubicación actual</h2>

 <div id="mapid" style="height: 180px;"></div>

 <script>
    var mymap = L.map('mapid').setView([51.505, -0.09], 13);

    L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}', {
      attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',
      maxZoom: 18,
      id: 'mapbox/streets-v11',
      tileSize: 512,
      zoomOffset: -1,
      accessToken: 'your.mapbox.access.token'
    }).addTo(mymap);

    if (navigator.geolocation) {
      navigator.geolocation.getCurrentPosition(function(position) {
        var latitude = position.coords.latitude;
        var longitude = position.coords.longitude;

        var marker = L.marker([latitude, longitude]).addTo(mymap);
        marker.bindPopup("Ubicación actual").openPopup();

        mymap.setView([latitude, longitude], 16);
      });
    } else {
      console.log("Geolocalización no es compatible con este navegador.");
    }
 </script>
</body>
</html>